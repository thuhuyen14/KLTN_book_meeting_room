<nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="index.html">
      <img src="images/dnse_logo_notext.png" alt="DNSE Logo" style="height:32px; width:auto; margin-right:10px;">
      <span class="text-white fw-bold text-uppercase" style="letter-spacing: 1px;">DNSE Meeting</span>
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link" href="rooms.html">Phòng họp</a></li>
        <li class="nav-item"><a class="nav-link" href="booking.html">Đặt lịch</a></li>
        <li class="nav-item"><a class="nav-link" href="schedule.html">Lịch họp</a></li>

        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Trình ký</a>
          <ul class="dropdown-menu shadow">
            <li><a class="dropdown-item" href="documents.html"><i class="bi bi-file-earmark-text me-2"></i>Văn bản trình ký</a></li>
            <li><a class="dropdown-item" href="templates.html"><i class="bi bi-file-earmark-code me-2"></i>Mẫu trình ký</a></li>
          </ul>
        </li>

        <li class="nav-item"><a class="nav-link" href="users.html">Nhân sự</a></li>
        <li class="nav-item"><a class="nav-link admin-only" href="admin.html">Quản trị</a></li>
        <li class="nav-item"><a class="nav-link manager-only" href="analytic.html">Thống kê</a></li>
        <li class="nav-item"><a class="nav-link manager-only" href="report.html">Báo cáo</a></li>
      </ul>

      <ul class="navbar-nav ms-auto align-items-center">
        
        <li class="nav-item dropdown me-3">
          <a class="nav-link position-relative pt-2" href="#" id="notification-bell" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-bell-fill" style="font-size: 1.3rem; color: #e0e0e0;"></i>
            
            <span id="notification-count" 
                  class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger border border-light" 
                  style="display:none; font-size: 0.65rem;">
              0
            </span>
          </a>

          <ul class="dropdown-menu dropdown-menu-end p-0 shadow" style="min-width: 340px; max-width: 340px; border-radius: 8px; border: none;">
            <li class="d-flex justify-content-between align-items-center px-3 py-2 bg-light border-bottom rounded-top">
              <span class="fw-bold text-dark small text-uppercase">Thông báo</span>
              <a href="#" class="text-decoration-none small text-primary" style="font-size: 0.8rem;" onclick="event.preventDefault(); alert('Tính năng đang phát triển')">Đánh dấu đã đọc</a>
            </li>

            <li>
               <div id="notification-list" class="list-group list-group-flush" style="max-height: 300px; overflow-y: auto;">
                 <div class="p-4 text-center text-muted">
                    <div class="spinner-border spinner-border-sm text-secondary mb-2" role="status"></div>
                    <div class="small">Đang tải dữ liệu...</div>
                 </div>
               </div>
            </li>

            <li class="dropdown-item text-center bg-light border-top py-1 rounded-bottom">
               <small class="text-muted" style="font-size: 0.75rem;">Hệ thống quản lý DNSE</small>
            </li>
          </ul>
        </li>

        <li class="nav-item dropdown" id="userMenu">
            <div class="spinner-grow spinner-grow-sm text-light" role="status"></div>
        </li>
      </ul>
    </div>
  </div>
</nav>

<style>
  /* Thanh cuộn cho khung thông báo */
  #notification-list::-webkit-scrollbar {
    width: 6px;
  }
  #notification-list::-webkit-scrollbar-track {
    background: #f1f1f1; 
  }
  #notification-list::-webkit-scrollbar-thumb {
    background: #ccc; 
    border-radius: 4px;
  }
  #notification-list::-webkit-scrollbar-thumb:hover {
    background: #aaa; 
  }
</style>